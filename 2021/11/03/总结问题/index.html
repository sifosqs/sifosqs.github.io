<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>总结问题 - sifosqs</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="sifosqs"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="sifosqs"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="工作中遇到的问题总结&amp;lt;1&amp;gt;"><meta property="og:type" content="blog"><meta property="og:title" content="总结问题"><meta property="og:url" content="http://example.com/2021/11/03/%E6%80%BB%E7%BB%93%E9%97%AE%E9%A2%98/"><meta property="og:site_name" content="sifosqs"><meta property="og:description" content="工作中遇到的问题总结&amp;lt;1&amp;gt;"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:published_time" content="2021-11-03T02:41:36.000Z"><meta property="article:modified_time" content="2022-01-22T04:04:36.086Z"><meta property="article:author" content="sifosqs"><meta property="article:tag" content="各种问题"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2021/11/03/%E6%80%BB%E7%BB%93%E9%97%AE%E9%A2%98/"},"headline":"总结问题","image":["http://example.com/img/og_image.png"],"datePublished":"2021-11-03T02:41:36.000Z","dateModified":"2022-01-22T04:04:36.086Z","author":{"@type":"Person","name":"sifosqs"},"publisher":{"@type":"Organization","name":"sifosqs","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":"工作中遇到的问题总结&lt;1&gt;"}</script><link rel="canonical" href="http://example.com/2021/11/03/%E6%80%BB%E7%BB%93%E9%97%AE%E9%A2%98/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="sifosqs" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-03T02:41:36.000Z" title="2021/11/3 上午10:41:36">2021-11-03</time>发表</span><span class="level-item"><time dateTime="2022-01-22T04:04:36.086Z" title="2022/1/22 下午12:04:36">2022-01-22</time>更新</span><span class="level-item">1 小时读完 (大约7586个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">总结问题</h1><div class="content"><p>工作中遇到的问题总结&lt;1&gt;</p>
<span id="more"></span>

<h3 id="1-为什么GetMapping-不使用-RequestBody"><a href="#1-为什么GetMapping-不使用-RequestBody" class="headerlink" title="1.为什么GetMapping ,不使用@RequestBody"></a>1.为什么GetMapping ,不使用@RequestBody</h3><p>get请求：</p>
<blockquote>
<p>1.请求参数是显示在请求行中</p>
<p>2.请求体是空的</p>
<p>3.请求参数会显示在地址栏中GET /?name=12a HTTP/1.1）</p>
<p>浏览器会把http header和data一并发送出去，服务器响应200（返回数据）；</p>
</blockquote>
<p>而@RequestBody是接受请求体中的数据,JSON格式</p>
<p>post请求：</p>
<blockquote>
<p>1.请求参数不会显示在地址栏中</p>
<p>2.请求体是请求参数</p>
<p>3.请求参数不显示在请求首行中（POST/  HTTP/1.1）</p>
<p>浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据），并不是所有的浏览器都会在post上发送两次，Firefox就只会发送一次</p>
</blockquote>
<h3 id="2-RequestParam和-RequestBody："><a href="#2-RequestParam和-RequestBody：" class="headerlink" title="2.@RequestParam和@RequestBody："></a>2.@RequestParam和@RequestBody：</h3><ul>
<li>@RequestBody –&gt; JSON字符串部分</li>
<li>@RequestParam –&gt; 请求参数部分</li>
</ul>
<p>两种注解总结：</p>
<ul>
<li><p>@<strong>RequestBody</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="meta">@RequestBody</span> Map map)</span><br><span class="line">(<span class="meta">@RequestBody</span> Object object)</span><br><span class="line">application/json时候可用</span><br><span class="line">form-data、x-www-form-urlencoded时候不可用</span><br></pre></td></tr></table></figure></li>
<li><p><strong>@RequestParam</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="meta">@RequestParam</span> Map map)</span><br><span class="line">application/json时候，json字符串部分不可用，url中的?后面添加参数即可用，见图一</span><br><span class="line">form-data、x-www-form-urlencoded时候可用，但是要将Headers里的Content-Type删掉</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="meta">@RequestParam</span> String waterEleId,</span><br><span class="line"><span class="meta">@RequestParam</span> String enterpriseName)</span><br><span class="line">application/json时候，json字符串部分不可用，url中的?后面添加参数即可用，见图一</span><br><span class="line">form-data、x-www-form-urlencoded时候可用，且参数可以没有顺序（即前端传过来的参数或者url中的参数顺序不必和后台接口中的参数顺序一致，只要字段名相同就可以），但是要将Headers里的Content-Type删掉</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="meta">@RequestParam</span> Object object)</span><br><span class="line">不管application/json、form-data、x-www-form-urlencoded都不可用</span><br></pre></td></tr></table></figure></li>
<li><p><strong>既不是@RequestBody也不是@RequestParam，没有指定参数哪种接收方式</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(Map map)</span><br><span class="line">(Object object)</span><br><span class="line">application/json时候：json字符串部分不可用，url中的?后面添加参数不可用。</span><br><span class="line">因为没有指定，它也不知道到底是用json字符串部分还是?后面添加参数部分，所以干脆都不可以用</span><br><span class="line">form-data、x-www-form-urlencoded时都不可用，见图二</span><br><span class="line"></span><br><span class="line">(HttpServletRequest request)</span><br><span class="line">application/json不可用</span><br><span class="line">form-data、x-www-form-urlencoded时可用</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-Integer和int的区别"><a href="#3-Integer和int的区别" class="headerlink" title="3.Integer和int的区别"></a>3.Integer和int的区别</h3><ol>
<li><p>java两种数据类型：</p>
<ul>
<li>基本数据类型，分为boolean、byte、int、char、long、short、double、float；</li>
<li>引用数据类型 ，分为数组、类、接口。</li>
</ul>
<p>java为每个基本数据类型提供了封装类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">基本数据类型: <span class="keyword">boolean</span>，<span class="keyword">char</span>，<span class="keyword">byte</span>，<span class="keyword">short</span>，<span class="keyword">int</span>，<span class="keyword">long</span>，<span class="keyword">float</span>，<span class="keyword">double</span></span><br><span class="line">封装类类型：Boolean，Character，Byte，Short，Integer，Long，Float，Double</span><br></pre></td></tr></table></figure>

<p>为什么不使用Integer而不使用int？</p>
<blockquote>
<p>1、 在MySQL中没有给字段赋值默认为null，当你从数据库中查出来也是null,如果该字段在对应的Java代码中是int类型，null不能对应int类型，因为int代表的是基本数据类型，只能是基本的数字。</p>
<p>2、实体类的属性你可以给它赋值也可以不给它赋值，当你不给它赋值时，它拥有默认值，比如int的默认值就为0。但是主动给它设置值为0与它默认为零是不同的概念。比如，一个班的成绩，0代表某学生分数为0，null代表这个学生该门考试没有成绩，这是两个不同的概念</p>
</blockquote>
</li>
<li><p>int 和Integer的深入对比</p>
<ul>
<li><p>```java<br>Integer i = new Integer(100);<br>Integer j = new Integer(100);<br>System.out.print(i == j); //false</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+ Integer变量和int变量比较时，只要两个变量的值是向等的，则结果为true（因为包装类Integer和基本数据类型int比较时，==java会自动拆包装为int，然后进行比较，实际上就变为两个int变量的比较==）</span><br><span class="line"></span><br><span class="line">  ```java</span><br><span class="line">  Integer i = new Integer(100);</span><br><span class="line">  int j = 100；</span><br><span class="line">  System.out.print(i == j); //true</span><br></pre></td></tr></table></figure></li>
<li><p>非new生成的Integer变量和new Integer()生成的变量比较时，结果为false。因为非new生成的Integer变量指向的是静态常量池中cache数组中存储的指向了堆中的Integer对象，而new Integer()生成的变量指向堆中新建的对象，两者在内存中的对象引用（地址）不同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="keyword">new</span> Integer(<span class="number">100</span>);</span><br><span class="line">Integer j = <span class="number">100</span>;</span><br><span class="line">System.out.print(i == j); <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li>
<li><p>对于两个非new生成的Integer对象，进行比较时，如果两个变量的值在区间-128到127之间，则比较结果为true，如果两个变量的值不在此区间，则比较结果为false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="number">100</span>;</span><br><span class="line">Integer j = <span class="number">100</span>;</span><br><span class="line">System.out.print(i == j); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">Integer i = <span class="number">128</span>;</span><br><span class="line">Integer j = <span class="number">128</span>;</span><br><span class="line">System.out.print(i == j); <span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li></li>
</ul>
</li>
<li><p>自动拆箱和自动装箱</p>
</li>
</ol>
<ul>
<li> 自动装箱：将基本数据类型重新转化为对象</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        <span class="comment">// 声明一个Integer对象，用到了自动的装箱：解析为:Integer num = Integer.valueOf(9);</span></span><br><span class="line">     Integer num = <span class="number">9</span>;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>  9是属于基本数据类型的，原则上它是不能直接赋值给一个对象Integer的。但jdk1.5后你就可以进行这样的声明，自动将基本数据类型转化为对应的封装类型，成为一个对象以后就可以调用对象所声明的所有的方法。</p>
<ul>
<li> 自动拆箱：将对象重新转化为基本数据类型</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;  </span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">           / /声明一个Integer对象</span><br><span class="line">        Integer num = <span class="number">9</span>;</span><br><span class="line">           </span><br><span class="line">           <span class="comment">// 进行计算时隐含的有自动拆箱</span></span><br><span class="line">	    System.out.print(num--);</span><br><span class="line">       &#125;  </span><br><span class="line">   &#125;  </span><br></pre></td></tr></table></figure>

  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装箱</span></span><br><span class="line">Integer num = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 拆箱</span></span><br><span class="line"><span class="keyword">int</span> num1 = num;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>深入解析Integer</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;  </span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">      <span class="comment">// 在-128~127 之外的数</span></span><br><span class="line">         Integer num1 = <span class="number">128</span>;   </span><br><span class="line">         Integer num2 = <span class="number">128</span>;           </span><br><span class="line">         System.out.println(num1==num2);   <span class="comment">//false</span></span><br><span class="line">                     </span><br><span class="line">         <span class="comment">// 在-128~127 之内的数 </span></span><br><span class="line">         Integer num3 = <span class="number">9</span>;   </span><br><span class="line">         Integer num4 = <span class="number">9</span>;   </span><br><span class="line">         System.out.println(num3==num4);   <span class="comment">//true</span></span><br><span class="line">     &#125;  </span><br><span class="line"> &#125;  </span><br></pre></td></tr></table></figure>

<p>解析原因：归结于java对于Integer与int的自动装箱与拆箱的设计，是一种模式：叫享元模式（flyweight）。<br>（1）加大对简单数字的重利用，Java定义在自动装箱时对于在-128<del>127之内的数值，它们被装箱为Integer对象后，会存在内存中被重用，始终只存在一个对象。<br>（2）而如果在-128</del>127之外的数，被装箱后的Integer对象并不会被重用，即相当于每次装箱时都新建一个 Integer对象</p>
</li>
</ol>
<h3 id="4-Servlet的声明周期"><a href="#4-Servlet的声明周期" class="headerlink" title="4.Servlet的声明周期"></a>4.Servlet的声明周期</h3><h3 id="5-get请求和post请求有什么区别"><a href="#5-get请求和post请求有什么区别" class="headerlink" title="5.get请求和post请求有什么区别"></a>5.get请求和post请求有什么区别</h3><ul>
<li><p>get（没有请求体）</p>
<ul>
<li>提交请求参数，这个氢气参数会拼接在请求地址后面,以？号进行拼接，请求参数名=请求参数值 &amp; 请求参数名=请求参数值，其实就是表单元素，name=value。</li>
<li>get不安全</li>
<li>传输速度快</li>
<li>文件上传不能使用get，因为请求参数拼接在地址栏中，总不能把文件拼接在地址栏中吧，用get实现拼接的是文件名而不是文件</li>
</ul>
</li>
<li><p>post（有请求体）</p>
<ul>
<li>请求参数会放在请求体中，哪怕他把请求参数放在请求体中，格式也还是name=value</li>
<li>post安全</li>
<li>传输速度慢</li>
</ul>
</li>
</ul>
<h3 id="6-springMVC获取请求参数"><a href="#6-springMVC获取请求参数" class="headerlink" title="6. springMVC获取请求参数"></a>6. springMVC获取请求参数</h3><ul>
<li><p>通过servletApi获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testServletApi&quot;)</span></span><br><span class="line"><span class="comment">//形参位置的request表示当前请求</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testServletApi</span><span class="params">(HttpServletRequest req)</span></span>&#123;</span><br><span class="line">    String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username + <span class="string">&quot;password:&quot;</span>+password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>通过控制器的形参来接收请求参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParam&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">param</span><span class="params">(String username,String password,String[] hobby)</span></span>&#123;</span><br><span class="line">        <span class="comment">//若请求参数中国出现多个同名参数，可以在控制器方法的形参位置设置一个字符串类型或者字符号串数组做接收参数</span></span><br><span class="line">        <span class="comment">//若使用字符串类型的形参，最终结果为请求参数的每一个值之间用逗号拼接的结果</span></span><br><span class="line">        System.out.println(<span class="string">&quot;username:&quot;</span>+username + <span class="string">&quot;password:&quot;</span>+password+ <span class="string">&quot;hobby:&quot;</span>+ Arrays.toString(hobby));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>注意：形参参数名必须和请求参数名保持一致</p>
<ul>
<li><p>@RequestParam</p>
</li>
<li><p>@RequestHeader</p>
<p>因为请求头里面的悉心也是键值对形式，获取请求头里面的信息</p>
</li>
<li><p>@CookieValue</p>
</li>
<li><p>通过pojo获取请求参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testpojo&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testpojo</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        System.out.println(user.toString());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>解决请求参数乱码的问题</p>
<ul>
<li><p>get没有乱码</p>
<p>get乱码是因为tomcat的原因，将tomcat的配置文件server.xml，修改成</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8080&quot;</span> <span class="attr">URIEncoding</span> =<span class="string">&quot;UTF-8&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>post有乱码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 这个地方post的编码问题</span></span><br><span class="line"><span class="comment">    * 首先用HttpServletRequest   req   req.setEncoding= 为什么不行，</span></span><br><span class="line"><span class="comment">    * 因为servlet已经先接受了User的形参，然后你在使用req类设置就不行</span></span><br><span class="line"><span class="comment">    * 那么就需要找到一个比servlet之前执行的东西，服务器执行顺序，监听器&gt;过滤器&gt;servlet</span></span><br><span class="line"><span class="comment">    * 监听器只是监听作用，就是监听servlet的创建和销毁，</span></span><br><span class="line"><span class="comment">    * 只要我们设置了过滤路径，只要当前访问地址满足了过滤路径，都会被过滤器过滤</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--请求的编码--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--响应的编码--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-session和cookie"><a href="#7-session和cookie" class="headerlink" title="7.session和cookie"></a>7.session和cookie</h3><h3 id="8-服务器中的三大组件"><a href="#8-服务器中的三大组件" class="headerlink" title="8.服务器中的三大组件"></a>8.服务器中的三大组件</h3><ul>
<li>监听器</li>
<li>过滤器</li>
<li>servlet</li>
<li>执行顺序监听器——&gt;过滤器——&gt;servlet </li>
</ul>
<h3 id="9-域对象共享"><a href="#9-域对象共享" class="headerlink" title="9.域对象共享"></a>9.域对象共享</h3><ul>
<li><p>向request域中共享数据</p>
<ul>
<li>使用servletAPI向request域对象共享对象</li>
<li>使用MOdelAndView向request 域对象共享数据</li>
<li>使用Model</li>
<li>使用ModelMap</li>
<li>使用Map</li>
</ul>
</li>
<li><p>向session域中共享数据</p>
<ul>
<li>```java<br> @RequestMapping(“/testSession”)<pre><code>public String testSession(HttpSession session)&#123;
    session.setAttribute(&quot;testSessionScope&quot;,&quot;hello session&quot;);
    return &quot;success&quot;;
&#125;
</code></pre>
//thymeleaf  接收  session.testSessionScope<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+ 向application域共享数据</span><br><span class="line"></span><br><span class="line">  + ```java</span><br><span class="line">    @RequestMapping(&quot;/testApplication&quot;)</span><br><span class="line">        public String testApplication(HttpSession session)&#123;</span><br><span class="line">        ServletContext context = session.getServletContext();</span><br><span class="line">            context.setAttribute(&quot;testApplicationScope&quot;, &quot;hello application&quot;);</span><br><span class="line">            return &quot;success&quot;;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="10-转发和重定向的区别"><a href="#10-转发和重定向的区别" class="headerlink" title="10.转发和重定向的区别"></a>10.转发和重定向的区别</h3><ul>
<li>转发<ul>
<li>浏览器发送一次请求</li>
<li>地址栏还是原来的地址</li>
<li>转发可以获取请求域中的数据</li>
<li>不能跨域</li>
</ul>
</li>
<li>重定向<ul>
<li>浏览器发送两次请求<ul>
<li>第一次访问servlet</li>
<li>第二次访问重定向 </li>
</ul>
</li>
<li>地址栏是重定向后的地址</li>
<li>重定向不可以获取请求域中的数据</li>
<li>跨域跨域</li>
</ul>
</li>
</ul>
<h3 id="11-主键生成策略"><a href="#11-主键生成策略" class="headerlink" title="11.主键生成策略"></a>11.主键生成策略</h3><ol>
<li><p>自动增长</p>
<p>auto_increament</p>
<p>优点：</p>
<ul>
<li></li>
</ul>
<p>缺点：</p>
<ul>
<li>在分表的情况下，加入好多数据，需要多个表存，每个表存10000个数据，第一张表1-10000，第二个表需要获取第一个标的最后一个id+1生成第二个表。</li>
</ul>
</li>
<li><p>UUID（随机的唯一的值）</p>
<p>优点：</p>
<ul>
<li>在分表的时候，不需要获取上一个表的id值。</li>
</ul>
<p>缺点：</p>
<ul>
<li>id值无法进行排序</li>
</ul>
</li>
<li><p>Redis实现id</p>
<p>假如一个集群中5台Redis，每台机器的初始化1,2,3,4,5.使用redis的原子操作INCR 和INCRBY来实现。</p>
<p>A: 1,6,11,16,21</p>
<p>B:2,7,12,17,22</p>
<p>C:3,7,13,18,23</p>
<p>D:4,9,14,19,24</p>
<p>E:5,10,15,20,25</p>
<p>优点：</p>
<p>缺点：</p>
</li>
<li><p>mp中自带策略（生成19位数字）</p>
<p>里面有个算法：Twitter的snowflake算法</p>
<p>里面的策略，在主键上面加上注解@Table(type=IdType.AUTO)</p>
<ul>
<li>AUTO:自动增长</li>
<li>ID_WORKER:mp自带，会生成19位的值，主键属性类型是<strong>Long类型</strong>。</li>
<li>ID_WORKER_STR:mp自带，主键类型是<strong>字符串类型</strong>。</li>
<li>INPUT:需要自己设置id值</li>
<li>NONE:需要自己输入</li>
<li>UUID:每次生成随机唯一值</li>
</ul>
</li>
</ol>
<h3 id="12-自动填充"><a href="#12-自动填充" class="headerlink" title="12.自动填充"></a>12.自动填充</h3><ul>
<li><p>自动填充</p>
<ul>
<li><p>表中添加两个字段</p>
<p>   create_time,update_time</p>
</li>
<li><p>添加实体类属性</p>
</li>
<li><p>自己手动加时间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.setCreateTime(<span class="keyword">new</span> Date());</span><br><span class="line">user.setUpdateTime(<span class="keyword">new</span> Date());</span><br></pre></td></tr></table></figure></li>
<li><p>或者mp加时间</p>
<p>实现过程：</p>
<ul>
<li><p>在实体类里面进行自动填充属性添加注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Date createTime;</span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> Date updateTime;</span><br></pre></td></tr></table></figure></li>
<li><p>创建类，实现接口MetaObjectHandler,实现接口里面的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span><span class="comment">//交给spring接管</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">//使用mp实现添加操作，这个方法执行</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;createTime&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//使用mp实现修改操作，这个方法执行</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="13-乐观锁"><a href="#13-乐观锁" class="headerlink" title="13.乐观锁"></a>13.乐观锁</h3><p>乐观锁：==解决某些问题==</p>
<p>主要解决：丢失更新</p>
<p>如果不考虑事务隔离性，产生读问题？<br>脏读          不可重复度              幻读</p>
<p>写问题：丢失更新问题</p>
<p>丢失更新：举例子，有个工资条</p>
<table>
<thead>
<tr>
<th>id</th>
<th>money</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>500</td>
<td></td>
</tr>
</tbody></table>
<p>现有两个人A和B都去好这个工资</p>
<p>A——开始事务——500改成8000——首先提交8000——工资变成8000</p>
<p>B——开始事务——500改成200——之后提交——工资变成200，最后提交回覆盖之前的数据</p>
<p>丢失更新：多个人同时修改同一条记录，最后提交的把之前的提交数据覆盖</p>
<p>解决方案：</p>
<ul>
<li>悲观锁：一个一个操作。A完成后B在操作，效率低</li>
<li>乐观锁<ul>
<li>取出记录时，获取当前的version</li>
<li>更新时，带上这个version</li>
<li>执行更新时，set version = newVersion where  version = oldVersion</li>
<li>如果version不对，就更新失败</li>
</ul>
</li>
</ul>
<p>乐观锁应用：抢票，谁都能抢到，但是谁先提交订单，谁就是抢到了</p>
<ul>
<li><p>首先添加字段version</p>
</li>
<li><p>实体类中version属性添加version注解</p>
</li>
<li><p>写配置类（官网有）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MpConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 乐观锁插件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> OptimisticLockerInterceptor <span class="title">optimisticLockerInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> OptimisticLockerInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>测试乐观锁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOptimisticLocker</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">//现根据id查</span></span><br><span class="line">   User user = userMapper.selectById(<span class="number">1470062460986736642L</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//进行修改</span></span><br><span class="line">   user.setAge(<span class="number">200</span>);</span><br><span class="line">   userMapper.updateById(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="14-使用mp做分页"><a href="#14-使用mp做分页" class="headerlink" title="14.使用mp做分页"></a>14.使用mp做分页</h3><ul>
<li><p>写一个分页插件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 分页插件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分页</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPage</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">//传入两个参数  当前页，每页显示记录数</span></span><br><span class="line">   Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">   <span class="comment">//调用mp分页插查询的过程中，底层封装，把所有分页的数据封装到page对象里面</span></span><br><span class="line">   userMapper.selectPage(page, <span class="keyword">null</span>);</span><br><span class="line">   <span class="comment">//通过page对象获取分页数据</span></span><br><span class="line">   System.out.println(<span class="string">&quot;当前页&quot;</span>+page.getCurrent());<span class="comment">//</span></span><br><span class="line">   System.out.println(<span class="string">&quot;每页数据的List集合&quot;</span>+page.getRecords());</span><br><span class="line">   System.out.println(<span class="string">&quot;总共有多少页&quot;</span>+page.getPages());</span><br><span class="line">   System.out.println(<span class="string">&quot;每页放多少个数据&quot;</span>+page.getSize());</span><br><span class="line">   System.out.println(<span class="string">&quot;总共多少条数据&quot;</span>+page.getTotal());</span><br><span class="line"></span><br><span class="line">   System.out.println(<span class="string">&quot;是否有下页&quot;</span>+page.hasNext());</span><br><span class="line">   System.out.println(<span class="string">&quot;是否有上页&quot;</span>+page.hasPrevious());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="15-mp实现复杂查询"><a href="#15-mp实现复杂查询" class="headerlink" title="15.mp实现复杂查询"></a>15.mp实现复杂查询</h3><p>一般我们使用QueryWrapper来实现条件  </p>
<ul>
<li>创建QueryWrapper对象</li>
<li>调用里面的方法实现各种条件查询（只是列举了先项目中会遇见的，其他的在PDF里面）<ul>
<li>ge,gt,le,lt   &gt;=  ,&gt;, &lt;=  ,&lt;</li>
<li>eq,ne   =  , !=</li>
<li>bewteen  范围</li>
<li>like   模糊查询</li>
<li>orderByDesc  排序</li>
<li>last  拼接</li>
<li>指定要查询的列</li>
</ul>
</li>
</ul>
<h3 id="16-整合swagger进行接口测试"><a href="#16-整合swagger进行接口测试" class="headerlink" title="16.整合swagger进行接口测试"></a>16.整合swagger进行接口测试</h3><ol>
<li><p>生成一个在下接口文档</p>
</li>
<li><p>方便接口测试</p>
<p>创建公共模块，整合swagger，为了所有的模块都能进行使用</p>
<p>配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">webApiConfig</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .groupName(<span class="string">&quot;webApi&quot;</span>)</span><br><span class="line">                .apiInfo(webApiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .paths(Predicates.not(PathSelectors.regex(<span class="string">&quot;/admin/.*&quot;</span>)))</span><br><span class="line">                .paths(Predicates.not(PathSelectors.regex(<span class="string">&quot;/error/.*&quot;</span>)))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">webApiInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                .title(<span class="string">&quot;在线教育API文档&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;本文档描述了课程中心微服务接口定义&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .contact(<span class="keyword">new</span> Contact(<span class="string">&quot;hellen&quot;</span>, <span class="string">&quot;http://atguigu.com&quot;</span>, <span class="string">&quot;55317332@qq.com&quot;</span>))</span><br><span class="line">                .build();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Api 加在类上</p>
<p>@ApiOperation加在方法上</p>
<p>@ApiParam(name = “id” ,value = “讲师id” ,required = true)加在参数上</p>
</li>
</ol>
<h3 id="17-统一结果返回"><a href="#17-统一结果返回" class="headerlink" title="17.统一结果返回"></a>17.统一结果返回</h3><p>{</p>
<p>  “seccess”:布尔//响应是否成功<br>  “code”:数字，//响应码<br>  “message”:字符串，//返回小徐<br>  “data”:HashMap //返回数据 ，放在键值对中,items,total….<br>}    </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">R</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;是否成功&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Boolean success;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;响应码&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;返回消息&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;返回数据&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String ,Object&gt; data = <span class="keyword">new</span> HashMap&lt;String,Object&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">R</span><span class="params">()</span></span>&#123;&#125;<span class="comment">//把构造方法变成私有，不让别人new我的R对象，只能用下面的静态方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> R <span class="title">ok</span><span class="params">()</span></span>&#123;</span><br><span class="line">        R r = <span class="keyword">new</span> R();</span><br><span class="line">        r.setSuccess(<span class="keyword">true</span>);</span><br><span class="line">        r.setCode(ResultCode.SUCCESS);</span><br><span class="line">        r.setMessage(<span class="string">&quot;成功&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//失败</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> R <span class="title">error</span><span class="params">()</span></span>&#123;</span><br><span class="line">        R r = <span class="keyword">new</span> R();</span><br><span class="line">        r.setSuccess(<span class="keyword">false</span>);</span><br><span class="line">        r.setCode(ResultCode.ERROR);</span><br><span class="line">        r.setMessage(<span class="string">&quot;失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">success</span><span class="params">(Boolean success)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setSuccess(success);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">code</span><span class="params">(Integer code)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setCode(code);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">message</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setMessage(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">data</span><span class="params">(String key,Object value)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data.put(key,value);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">data</span><span class="params">(Map&lt;String ,Object&gt; map)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setData(map);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="18-常见响应码"><a href="#18-常见响应码" class="headerlink" title="18.常见响应码"></a>18.常见响应码</h3><ul>
<li>500：代码错误，服务器内部错误。</li>
<li>403：一般是两种<ul>
<li>跨域</li>
<li>路径写错了</li>
</ul>
</li>
</ul>
<h3 id="19-统一异常处理"><a href="#19-统一异常处理" class="headerlink" title="19.统一异常处理"></a>19.统一异常处理</h3><p>全局异常处理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//建议一个方法，作用是，当出现什么异常，方法会执行</span></span><br><span class="line">    <span class="comment">//指定当你出现什么异常，他会执行这个方法</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">error</span><span class="params">(Exception e)</span></span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> R.error().message(<span class="string">&quot;执行了全局异常提示&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>特殊异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//特定异常</span></span><br><span class="line"><span class="meta">@ExceptionHandler(ArithmeticException.class)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">error</span><span class="params">(ArithmeticException e)</span></span>&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> R.error().message(<span class="string">&quot;执行了ArithmeticException异常处理&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自定义异常：</p>
<ul>
<li><p>创建自定义异常类继承RuntimeException</p>
<p>属性：code  ，msg</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GuliException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;<span class="comment">//状态码</span></span><br><span class="line">    <span class="keyword">private</span> String msg;<span class="comment">//信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在统一异常加入规则</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定异常</span></span><br><span class="line"><span class="meta">@ExceptionHandler(GuliException.class)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">error</span><span class="params">(GuliException e)</span></span>&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> R.error().code(e.getCode()).message(e.getMsg());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>执行自定义异常，手动给异常抛出去</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">10</span>/<span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">    <span class="comment">//执行自定义异常</span></span><br><span class="line">    <span class="keyword">throw</span>  <span class="keyword">new</span> GuliException(<span class="number">20001</span>,<span class="string">&quot;执行自定义异常处理....&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="20-统一日志处理"><a href="#20-统一日志处理" class="headerlink" title="20.统一日志处理"></a>20.统一日志处理</h3><ol>
<li><p>日志级别 </p>
<ul>
<li><p>OFF、FATAL、ERROR、WARN、INFO、DEBUG、ALL</p>
</li>
<li><p>```properties<br>#设置日志级别,显示比warn错误多的，info，就不显示<br>logging.level.root=WARN</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 把日志不仅能输出到控制台，也可以输出到文件中，使用日志工具。这里使用Logback日志工具</span><br><span class="line"></span><br><span class="line">   + 删除application.properties之前的日志配置</span><br><span class="line"></span><br><span class="line">   + 在resources中创建logback-spring.xml </span><br><span class="line"></span><br><span class="line">     ```xml</span><br><span class="line">     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">     &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;</span><br><span class="line">         &lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span><br><span class="line">         &lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true --&gt;</span><br><span class="line">         &lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span><br><span class="line">         &lt;!-- debug:当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span><br><span class="line">     </span><br><span class="line">         &lt;contextName&gt;logback&lt;/contextName&gt;</span><br><span class="line">         &lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义变量后，可以使“$&#123;&#125;”来使用变量。 --&gt;</span><br><span class="line">         &lt;property name=&quot;log.path&quot; value=&quot;D:/ideaIU-2020.3.2/code/guli/edu_log&quot;/&gt;</span><br><span class="line">     </span><br><span class="line">         &lt;!-- 彩色日志 --&gt;</span><br><span class="line">         &lt;!-- 配置格式变量：CONSOLE_LOG_PATTERN 彩色日志格式 --&gt;</span><br><span class="line">         &lt;!-- magenta:洋红 --&gt;</span><br><span class="line">         &lt;!-- boldMagenta:粗红--&gt;</span><br><span class="line">         &lt;!-- cyan:青色 --&gt;</span><br><span class="line">         &lt;!-- white:白色 --&gt;</span><br><span class="line">         &lt;!-- magenta:洋红 --&gt;</span><br><span class="line">         &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot;</span><br><span class="line">                   value=&quot;%yellow(%date&#123;yyyy-MM-dd HH:mm:ss&#125;) |%highlight(%-5level) |%blue(%thread) |%blue(%file:%line) |%green(%logger) |%cyan(%msg%n)&quot;/&gt;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">         &lt;!--输出到控制台--&gt;</span><br><span class="line">         &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</span><br><span class="line">             &lt;!--此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息--&gt;</span><br><span class="line">             &lt;!-- 例如：如果此处配置了INFO级别，则后面其他位置即使配置了DEBUG级别的日志，也不会被输出 --&gt;</span><br><span class="line">             &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;</span><br><span class="line">                 &lt;level&gt;INFO&lt;/level&gt;</span><br><span class="line">             &lt;/filter&gt;</span><br><span class="line">             &lt;encoder&gt;</span><br><span class="line">                 &lt;Pattern&gt;$&#123;CONSOLE_LOG_PATTERN&#125;&lt;/Pattern&gt;</span><br><span class="line">                 &lt;!-- 设置字符集 --&gt;</span><br><span class="line">                 &lt;charset&gt;UTF-8&lt;/charset&gt;</span><br><span class="line">             &lt;/encoder&gt;</span><br><span class="line">         &lt;/appender&gt;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">         &lt;!--输出到文件--&gt;</span><br><span class="line">     </span><br><span class="line">         &lt;!-- 时间滚动输出 level为 INFO 日志 --&gt;</span><br><span class="line">         &lt;appender name=&quot;INFO_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">             &lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br><span class="line">             &lt;file&gt;$&#123;log.path&#125;/log_info.log&lt;/file&gt;</span><br><span class="line">             &lt;!--日志文件输出格式--&gt;</span><br><span class="line">             &lt;encoder&gt;</span><br><span class="line">                 &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt;</span><br><span class="line">                 &lt;charset&gt;UTF-8&lt;/charset&gt;</span><br><span class="line">             &lt;/encoder&gt;</span><br><span class="line">             &lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br><span class="line">             &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">                 &lt;!-- 每天日志归档路径以及格式 --&gt;</span><br><span class="line">                 &lt;fileNamePattern&gt;$&#123;log.path&#125;/info/log-info-%d&#123;yyyy-MM-dd&#125;.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">                 &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                     &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;</span><br><span class="line">                 &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">                 &lt;!--日志文件保留天数--&gt;</span><br><span class="line">                 &lt;maxHistory&gt;15&lt;/maxHistory&gt;</span><br><span class="line">             &lt;/rollingPolicy&gt;</span><br><span class="line">             &lt;!-- 此日志文件只记录info级别的 --&gt;</span><br><span class="line">             &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">                 &lt;level&gt;INFO&lt;/level&gt;</span><br><span class="line">                 &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">                 &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">             &lt;/filter&gt;</span><br><span class="line">         &lt;/appender&gt;</span><br><span class="line">     </span><br><span class="line">         &lt;!-- 时间滚动输出 level为 WARN 日志 --&gt;</span><br><span class="line">         &lt;appender name=&quot;WARN_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">             &lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br><span class="line">             &lt;file&gt;$&#123;log.path&#125;/log_warn.log&lt;/file&gt;</span><br><span class="line">             &lt;!--日志文件输出格式--&gt;</span><br><span class="line">             &lt;encoder&gt;</span><br><span class="line">                 &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt;</span><br><span class="line">                 &lt;charset&gt;UTF-8&lt;/charset&gt; &lt;!-- 此处设置字符集 --&gt;</span><br><span class="line">             &lt;/encoder&gt;</span><br><span class="line">             &lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br><span class="line">             &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">                 &lt;fileNamePattern&gt;$&#123;log.path&#125;/warn/log-warn-%d&#123;yyyy-MM-dd&#125;.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">                 &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                     &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;</span><br><span class="line">                 &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">                 &lt;!--日志文件保留天数--&gt;</span><br><span class="line">                 &lt;maxHistory&gt;15&lt;/maxHistory&gt;</span><br><span class="line">             &lt;/rollingPolicy&gt;</span><br><span class="line">             &lt;!-- 此日志文件只记录warn级别的 --&gt;</span><br><span class="line">             &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">                 &lt;level&gt;warn&lt;/level&gt;</span><br><span class="line">                 &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">                 &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">             &lt;/filter&gt;</span><br><span class="line">         &lt;/appender&gt;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">         &lt;!-- 时间滚动输出 level为 ERROR 日志 --&gt;</span><br><span class="line">         &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</span><br><span class="line">             &lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br><span class="line">             &lt;file&gt;$&#123;log.path&#125;/log_error.log&lt;/file&gt;</span><br><span class="line">             &lt;!--日志文件输出格式--&gt;</span><br><span class="line">             &lt;encoder&gt;</span><br><span class="line">                 &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt;</span><br><span class="line">                 &lt;charset&gt;UTF-8&lt;/charset&gt; &lt;!-- 此处设置字符集 --&gt;</span><br><span class="line">             &lt;/encoder&gt;</span><br><span class="line">             &lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br><span class="line">             &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</span><br><span class="line">                 &lt;fileNamePattern&gt;$&#123;log.path&#125;/error/log-error-%d&#123;yyyy-MM-dd&#125;.%i.log&lt;/fileNamePattern&gt;</span><br><span class="line">                 &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;</span><br><span class="line">                     &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;</span><br><span class="line">                 &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span><br><span class="line">                 &lt;!--日志文件保留天数--&gt;</span><br><span class="line">                 &lt;maxHistory&gt;15&lt;/maxHistory&gt;</span><br><span class="line">             &lt;/rollingPolicy&gt;</span><br><span class="line">             &lt;!-- 此日志文件只记录ERROR级别的 --&gt;</span><br><span class="line">             &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;</span><br><span class="line">                 &lt;level&gt;ERROR&lt;/level&gt;</span><br><span class="line">                 &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</span><br><span class="line">                 &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</span><br><span class="line">             &lt;/filter&gt;</span><br><span class="line">         &lt;/appender&gt;</span><br><span class="line">     </span><br><span class="line">         &lt;!--</span><br><span class="line">             &lt;logger&gt;用来设置某一个包或者具体的某一个类的日志打印级别、以及指定&lt;appender&gt;。</span><br><span class="line">             &lt;logger&gt;仅有一个name属性，</span><br><span class="line">             一个可选的level和一个可选的addtivity属性。</span><br><span class="line">             name:用来指定受此logger约束的某一个包或者具体的某一个类。</span><br><span class="line">             level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span><br><span class="line">                   如果未设置此属性，那么当前logger将会继承上级的级别。</span><br><span class="line">         --&gt;</span><br><span class="line">         &lt;!--</span><br><span class="line">             使用mybatis的时候，sql语句是debug下才会打印，而这里我们只配置了info，所以想要查看sql语句的话，有以下两种操作：</span><br><span class="line">             第一种把&lt;root level=&quot;INFO&quot;&gt;改成&lt;root level=&quot;DEBUG&quot;&gt;这样就会打印sql，不过这样日志那边会出现很多其他消息</span><br><span class="line">             第二种就是单独给mapper下目录配置DEBUG模式，代码如下，这样配置sql语句会打印，其他还是正常DEBUG级别：</span><br><span class="line">          --&gt;</span><br><span class="line">         &lt;!--开发环境:打印控制台--&gt;</span><br><span class="line">         &lt;springProfile name=&quot;dev&quot;&gt;</span><br><span class="line">             &lt;!--可以输出项目中的debug日志，包括mybatis的sql日志--&gt;</span><br><span class="line">             &lt;logger name=&quot;com.guli&quot; level=&quot;INFO&quot;/&gt;</span><br><span class="line">     </span><br><span class="line">             &lt;!--</span><br><span class="line">                 root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性</span><br><span class="line">                 level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，默认是DEBUG</span><br><span class="line">                 可以包含零个或多个appender元素。</span><br><span class="line">             --&gt;</span><br><span class="line">             &lt;root level=&quot;INFO&quot;&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;INFO_FILE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;WARN_FILE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;</span><br><span class="line">             &lt;/root&gt;</span><br><span class="line">         &lt;/springProfile&gt;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">         &lt;!--生产环境:输出到文件--&gt;</span><br><span class="line">         &lt;springProfile name=&quot;pro&quot;&gt;</span><br><span class="line">     </span><br><span class="line">             &lt;root level=&quot;INFO&quot;&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;DEBUG_FILE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;INFO_FILE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;</span><br><span class="line">                 &lt;appender-ref ref=&quot;WARN_FILE&quot;/&gt;</span><br><span class="line">             &lt;/root&gt;</span><br><span class="line">         &lt;/springProfile&gt;</span><br><span class="line">     </span><br><span class="line">     &lt;/configuration&gt;</span><br></pre></td></tr></table></figure></li>
<li></li>
</ul>
</li>
<li></li>
</ol>
<h3 id="21-跨域问题"><a href="#21-跨域问题" class="headerlink" title="21.跨域问题"></a>21.跨域问题</h3><p>跨域：通过一个地址访问另一个地址，这个过程中如果有三个地方任何一个不一样‘</p>
<p>访问协议    http   https</p>
<p>IP地址   192.168.1.1   172.11.11.11</p>
<p>端口号   9528   8001</p>
<p>跨域解决方式：</p>
<ul>
<li>在controller类上加上注解@CrossOrigin</li>
<li>使用网关来解决</li>
</ul>
<h3 id="22-阿里云对象存储OSS服务"><a href="#22-阿里云对象存储OSS服务" class="headerlink" title="22.阿里云对象存储OSS服务"></a>22.阿里云对象存储OSS服务</h3><ol>
<li>阿里云oss管理控制台使用<ul>
<li>使用oss，首先创建bucket</li>
</ul>
</li>
<li>使用java来操作阿里云oss，上传文件到阿里云oss操作<ul>
<li>准备工作；创建操作阿里云的oss许可证（阿里云颁发的id和秘钥），点击Access key ,点击继续使用</li>
<li>创建Access key</li>
</ul>
</li>
<li>根据文档写代码</li>
</ol>
<h3 id="23-EasyExcel操作Excel进行读和写操作"><a href="#23-EasyExcel操作Excel进行读和写操作" class="headerlink" title="23.EasyExcel操作Excel进行读和写操作"></a>23.EasyExcel操作Excel进行读和写操作</h3><p>使用EasyExcel进行写操作</p>
<ul>
<li><p>引入easyExcel依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>easyexcel<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>还需要POI的依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--xls--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi-ooxml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>建实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoData</span> </span>&#123;</span><br><span class="line">    <span class="comment">//设置Excel表头的名称</span></span><br><span class="line">    <span class="meta">@ExcelProperty(&quot;学生编号&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer sno;</span><br><span class="line">    <span class="meta">@ExcelProperty(&quot;学生姓名&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String sname;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestEasyExcel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实现Excel写的操作</span></span><br><span class="line">        <span class="comment">//1.设置写入文件夹地址和Excel文件名称</span></span><br><span class="line">        String fileName = <span class="string">&quot;D:\\write.xlsx&quot;</span>;</span><br><span class="line">        <span class="comment">//2.调用easyExcel里面的方法实现写操作</span></span><br><span class="line">        EasyExcel.write(fileName, DemoData.class).sheet(<span class="string">&quot;学生列表&quot;</span>).doWrite(getData());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建一个方法返回list</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;DemoData&gt; <span class="title">getData</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;DemoData&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            DemoData data = <span class="keyword">new</span> DemoData();</span><br><span class="line">            data.setSno(i);</span><br><span class="line">            data.setSname(<span class="string">&quot;lucy&quot;</span>+i);</span><br><span class="line">            list.add(data);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>使用EasyExcel进行读操作</p>
<ul>
<li><p>创建实体类和表一一对应</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoData</span> </span>&#123;</span><br><span class="line">    <span class="comment">//设置Excel表头的名称</span></span><br><span class="line">    <span class="meta">@ExcelProperty(value = &quot;学生编号&quot;,index = 0)</span></span><br><span class="line">    <span class="keyword">private</span> Integer sno;</span><br><span class="line">    <span class="meta">@ExcelProperty(value = &quot;学生姓名&quot;,index = 1)</span></span><br><span class="line">    <span class="keyword">private</span> String sname;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>创建一个监听，读取Excel文件，他是一行一行读取，而POI是全部读取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelLixstener</span>  <span class="keyword">extends</span> <span class="title">AnalysisEventListener</span>&lt;<span class="title">DemoData</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//一行一行的读取Excel内容</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invoke</span><span class="params">(DemoData demoData, AnalysisContext analysisContext)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;*****&quot;</span>+demoData);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//读取表头的内容</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invokeHeadMap</span><span class="params">(Map&lt;Integer, String&gt; headMap, AnalysisContext context)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;表头:&quot;</span>+headMap);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//表示读取完成之后的事情</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doAfterAllAnalysed</span><span class="params">(AnalysisContext analysisContext)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>最终方法的调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现读操作</span></span><br><span class="line">String fileName = <span class="string">&quot;D:\\\\write.xlsx&quot;</span>;</span><br><span class="line">EasyExcel.read(fileName, DemoData.class, <span class="keyword">new</span> ExcelLixstener()).sheet().doRead();</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="24-内连接，左外连接，有外连接"><a href="#24-内连接，左外连接，有外连接" class="headerlink" title="24.内连接，左外连接，有外连接"></a>24.内连接，左外连接，有外连接</h3><table>
<thead>
<tr>
<th>1</th>
<th>前端</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>后端</td>
</tr>
<tr>
<td>3</td>
<td>运维</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>11</th>
<th>java</th>
<th>2</th>
</tr>
</thead>
<tbody><tr>
<td>12</td>
<td>vue</td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td>mysql</td>
<td>null</td>
</tr>
</tbody></table>
<ul>
<li><p>内连接查出来的是：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>前端</th>
<th>12</th>
<th>vue</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>后端</td>
<td>11</td>
<td>java</td>
</tr>
</tbody></table>
</li>
<li><p>左外连接查出来的是：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>前端</th>
<th>12</th>
<th>vue</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>后端</td>
<td>11</td>
<td>java</td>
</tr>
<tr>
<td>3</td>
<td>运维</td>
<td>null</td>
<td>null</td>
</tr>
</tbody></table>
</li>
<li><p>右外连接查出来的是：</p>
<table>
<thead>
<tr>
<th>1</th>
<th>前端</th>
<th>12</th>
<th>vue</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>后端</td>
<td>11</td>
<td>java</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
<td>13</td>
<td>MySQL</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="25-resultType和resultMap的用法"><a href="#25-resultType和resultMap的用法" class="headerlink" title="25.resultType和resultMap的用法"></a>25.resultType和resultMap的用法</h3><p>​    </p>
<h3 id="26-mybatis报无法找到xml错误"><a href="#26-mybatis报无法找到xml错误" class="headerlink" title="26.mybatis报无法找到xml错误"></a>26.mybatis报无法找到xml错误</h3><p>项目中创建mapper接口，编写xml文件SQL语句，执行出现错误：</p>
<blockquote>
<p>org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.atguigu.eduserv</p>
</blockquote>
<p>这个错误是有maven默认加载机制造成的问题 ,maven加载时候，把java文件夹里面src -main -java 中的java类型文件进行编译，如果其他类型文件，不会加载</p>
<p>解决方式：</p>
<ul>
<li>复制xml文件到target目录之中</li>
<li>把xml文件放到resources目录中</li>
<li>推荐使用：通过配置实现<ul>
<li><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 项目打包时会将java目录中的*.xml文件也进行打包 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--对上面的文件夹里的内容进行包含加载--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--*：代表一侧目录--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--** ：代表多级目录--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>项目application.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定mapper xml 文件的路径</span></span><br><span class="line"><span class="meta">mybatis-plus.mapper-locations</span>=<span class="string">classpath:com/atguigu/eduservice/mapper/xml/*.xml</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="27-阿里云视频点播技术"><a href="#27-阿里云视频点播技术" class="headerlink" title="27.阿里云视频点播技术"></a>27.阿里云视频点播技术</h3><p>开通阿里云点播，选择按照流量计费，好处是，不用不花钱。</p>
<p>​        视频点播（ApsaraVideo VoD，简称VoD）是<strong>集视频采集</strong>、<strong>编辑</strong>、<strong>上传</strong>、<strong>媒体资源管理</strong>、<strong>自动化转码处理（窄带高清™）</strong>、<strong>视频审核分析</strong>、<strong>分发加速</strong>于一体的一站式音视频点播解决方案。</p>
<p>这几个功能可以去试一试</p>
<p>1.</p>
<p>服务端：后端接口</p>
<p>客户端：浏览器，安卓，ios</p>
<p>2.</p>
<p>API:<strong>由阿里云提供固定的地址，只需要调用这个固定的地址，向地址传递参数，实现功能。</strong>比如，<a target="_blank" rel="noopener" href="https://vod.cn-shanghai.aliyuncs.com/">https://vod.cn-shanghai.aliyuncs.com/</a>, 向后面添加参数，?Action=GetPlayInfo。。这里使用一个技术，httpclient技术可以调用api地址，比如微信支付会使用，安卓，iOS。正常来说是通过浏览器来发送get，post请求，httpclient可以模拟浏览器发送get，post请求。</p>
<p>SDK:底层是API，对api方式进行了封装，更方便的使用。比如easyExcel，调用阿里云提供类或者接口里面的方法实现视频功能。</p>
<p>这里因为上传视频是可以进行加密，加密之后，使用加密之后地址不能进行播放，在数据库中不存储地址，而存储视频id，不行oss存储文件，存储的是文件地址。</p>
<ul>
<li><p>初始化，创建DefaultAcsClient对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InitObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">//填入AccessKey信息</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DefaultAcsClient <span class="title">initVodClient</span><span class="params">(String accessKeyId, String accessKeySecret)</span> <span class="keyword">throws</span> ClientException </span>&#123;</span><br><span class="line">        String regionId = <span class="string">&quot;cn-shanghai&quot;</span>;  <span class="comment">// 点播服务接入地域</span></span><br><span class="line">        DefaultProfile profile = DefaultProfile.getProfile(regionId, accessKeyId, accessKeySecret);</span><br><span class="line">        DefaultAcsClient client = <span class="keyword">new</span> DefaultAcsClient(profile);</span><br><span class="line">        <span class="keyword">return</span> client;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>根据id获取视频播放地址(4个步骤）</p>
<ul>
<li>初始化DefaultAcsClient</li>
<li>创建request和response</li>
<li>向request设置id值</li>
<li>调用初始化里面的方法，传递request，返回数据</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//根据id获取视频播放地</span></span><br><span class="line">    <span class="comment">//创建初始化对象</span></span><br><span class="line">    DefaultAcsClient client = InitObject.initVodClient(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="comment">//创建获取视频的request 和response对象</span></span><br><span class="line">    GetPlayInfoResponse response = <span class="keyword">new</span> GetPlayInfoResponse();</span><br><span class="line">    GetPlayInfoRequest request = <span class="keyword">new</span> GetPlayInfoRequest();</span><br><span class="line">    <span class="comment">//向request对象里面设置id</span></span><br><span class="line">    request.setVideoId(<span class="string">&quot;04337c94e0264e79aca76e17b292e336&quot;</span>);</span><br><span class="line">    <span class="comment">//调用初始化里面的对象，传递request，获取数据</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        response = client.getAcsResponse(request);</span><br><span class="line"></span><br><span class="line">        List&lt;GetPlayInfoResponse.PlayInfo&gt; playInfoList = response.getPlayInfoList();</span><br><span class="line">        <span class="comment">//播放地址</span></span><br><span class="line">        <span class="keyword">for</span> (GetPlayInfoResponse.PlayInfo playInfo : playInfoList) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;PlayInfo.PlayURL = &quot;</span> + playInfo.getPlayURL() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Base信息</span></span><br><span class="line">        System.out.print(<span class="string">&quot;VideoBase.Title = &quot;</span> + response.getVideoBase().getTitle() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>获取视频播放凭证（一般是加了密的视频用的）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getPlayAuth</span><span class="params">()</span></span>&#123;</span><br><span class="line">    DefaultAcsClient client = InitObject.initVodClient(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建request和response</span></span><br><span class="line">    GetVideoPlayAuthRequest request = <span class="keyword">new</span> GetVideoPlayAuthRequest();</span><br><span class="line">    GetVideoPlayAuthResponse response = <span class="keyword">new</span> GetVideoPlayAuthResponse();</span><br><span class="line">    <span class="comment">//向request设置id</span></span><br><span class="line">    request.setVideoId(<span class="string">&quot;b8c8917f74914c7988ec02adf919ba3a&quot;</span>);</span><br><span class="line">    <span class="comment">//调用初始化方法里面的值，获取数据</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        response = client.getAcsResponse(request);</span><br><span class="line">        String playAuth = response.getPlayAuth();</span><br><span class="line">        <span class="comment">//播放凭证</span></span><br><span class="line">        System.out.print(<span class="string">&quot;PlayAuth = &quot;</span> + playAuth + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="comment">//VideoMeta信息</span></span><br><span class="line">        System.out.print(<span class="string">&quot;VideoMeta.Title = &quot;</span> + response.getVideoMeta().getTitle() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>上传视频</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String accessKeyId=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    String accessKeySecret = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String title=<span class="string">&quot;6 - What If I Want to Move Faster- upload vy sdk&quot;</span>;<span class="comment">//上传之后文件名称</span></span><br><span class="line">    String fileName=<span class="string">&quot;E:\\尚硅谷\\在线教育\\1-阿里云上传测试视频\\6 - What If I Want to Move Faster.mp4&quot;</span>;</span><br><span class="line"></span><br><span class="line">    UploadVideoRequest request = <span class="keyword">new</span> UploadVideoRequest(accessKeyId, accessKeySecret, title, fileName);</span><br><span class="line">    <span class="comment">/* 可指定分片上传时每个分片的大小，默认为2M字节 */</span></span><br><span class="line">    request.setPartSize(<span class="number">2</span> * <span class="number">1024</span> * <span class="number">1024L</span>);</span><br><span class="line">    <span class="comment">/* 可指定分片上传时的并发线程数，默认为1，(注：该配置会占用服务器CPU资源，需根据服务器情况指定）*/</span></span><br><span class="line">    request.setTaskNum(<span class="number">1</span>);</span><br><span class="line">    UploadVideoImpl uploader = <span class="keyword">new</span> UploadVideoImpl();</span><br><span class="line">    UploadVideoResponse response = uploader.uploadVideo(request);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.isSuccess()) &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;VideoId=&quot;</span> + response.getVideoId() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/* 如果设置回调URL无效，不影响视频上传，可以返回VideoId同时会返回错误码。其他情况上传失败时，VideoId为空，此时需要根据返回错误码分析具体错误原因 */</span></span><br><span class="line">        System.out.print(<span class="string">&quot;VideoId=&quot;</span> + response.getVideoId() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;ErrorCode=&quot;</span> + response.getCode() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;ErrorMessage=&quot;</span> + response.getMessage() + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上传视频要注意：各种版本之间要互相依赖，比如，o使用upload的版本是1.4.14，oss的版本需要3.9.0以上，core版本同理</p>
</li>
</ul>
<h3 id="28-使用maven命令来安装非开源的依赖"><a href="#28-使用maven命令来安装非开源的依赖" class="headerlink" title="28.使用maven命令来安装非开源的依赖"></a>28.使用maven命令来安装非开源的依赖</h3><p>先下载jar包，然后使用命令</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -DgroupId=com.aliyun -DartifactId=aliyun-sdk-vod-upload -Dversion=<span class="number">1.4</span><span class="number">.14</span> -Dpackaging=jar -Dfile=aliyun-java-vod-upload<span class="number">-1.4</span><span class="number">.14</span>.jar</span><br></pre></td></tr></table></figure>

<h3 id="29-在初始化bean的时候执行方法，继承InitializingBean接口"><a href="#29-在初始化bean的时候执行方法，继承InitializingBean接口" class="headerlink" title="29.在初始化bean的时候执行方法，继承InitializingBean接口"></a>29.在初始化bean的时候执行方法，继承InitializingBean接口</h3><p>InitializingBean接口为bean提供了初始化方法的方式，它只包括afterPropertiesSet方法，凡是继承该接口的类，在初始化bean的时候都会执行该方法。</p>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当项目已启动时，spring 加载之后，执行接口一个方法</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstantPropertiesUtils</span>  <span class="keyword">implements</span> <span class="title">InitializingBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">//读取配置文件中内容</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.endpoint&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String endPoint;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.keyid&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String keyId;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.keysecret&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String keySecret;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aliyun.oss.file.bucketname&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String bucketName;</span><br><span class="line">    <span class="comment">//定义公开静态常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String END_POINT;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String ACCESS_KEY_ID;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String ACCESS_KEY_SECRET;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String BUCKET_NAME;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        END_POINT = endPoint;</span><br><span class="line">        ACCESS_KEY_ID = keyId;</span><br><span class="line">        ACCESS_KEY_SECRET = keySecret;</span><br><span class="line">        BUCKET_NAME = bucketName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</div><div class="article-licensing box"><div class="licensing-title"><p>总结问题</p><p><a href="http://example.com/2021/11/03/总结问题/">http://example.com/2021/11/03/总结问题/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>sifosqs</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-11-03</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-01-22</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E5%90%84%E7%A7%8D%E9%97%AE%E9%A2%98/">各种问题</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>爱发电</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/" alt="支付宝"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>送我杯咖啡</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/11/18/springcloud/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">springcloud</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/10/30/%E7%BA%BF%E7%A8%8B/"><span class="level-item">线程</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">21</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-22T04:06:47.000Z">2022-01-22</time></p><p class="title"><a href="/2022/01/22/springcloud-Nacos/">springcloud-Nacos</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-13T09:40:36.000Z">2022-01-13</time></p><p class="title"><a href="/2022/01/13/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-13T08:57:13.000Z">2022-01-13</time></p><p class="title"><a href="/2022/01/13/JUC/">JUC</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-13T08:50:28.000Z">2022-01-13</time></p><p class="title"><a href="/2022/01/13/%E5%A4%A7%E5%8E%82%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86/">大厂必备知识</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-11-28T12:52:10.000Z">2021-11-28</time></p><p class="title"><a href="/2021/11/28/springMvc/">springMvc</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JUC/"><span class="tag">JUC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nacos/"><span class="tag">Nacos</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringMVC/"><span class="tag">SpringMVC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/markdown/"><span class="tag">markdown</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mybatis/"><span class="tag">mybatis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring5/"><span class="tag">spring5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springboot/"><span class="tag">springboot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springcloud/"><span class="tag">springcloud</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zookeeper/"><span class="tag">zookeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%90%84%E7%A7%8D%E9%97%AE%E9%A2%98/"><span class="tag">各种问题</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="tag">多线程</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86/"><span class="tag">必备知识</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E7%A8%8B/"><span class="tag">线程</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="sifosqs" height="28"></a><p class="is-size-7"><span>&copy; 2022 sifosqs</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>